<?xml version="1.0" encoding="UTF-8"?>
<testcase>
	<brief>Check every country our ap support wifi0 and wifi1 channel on AP platforms</brief>
	<priority>High</priority>
	<automated>yes</automated>
	<description>
		Pre-Condition:

		Test Procedure:

		1. set country-code and reboot.
		2. Creat a new radio profile na,phymode 11na,enable dfs,bind to
		wifi1.
		3. Show int w0 channnel,check w0 channel list.compare with
		excel,result 1.
		4. Show int w1 channel,check w1 channel list.compare with
		excel.result 2.
	</description>
	<numofap>1</numofap>
	<tbtype>linux</tbtype>

	<!--get country code list-->
	<stage>
		<step no="get_country_list">
			<setvar name="ccode_list">
				perl ${case.dir}/bin/dfs_auto_parse_country.pl --get_country_list -f ${case.dir}/conf/${img.prodtype}-Channel-CountryCode-Automation.csv
			</setvar>
		</step>
	</stage>
	<!--handle AP340-->
	<stage>
		<if>"${img.prodtype}" == "AP340"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="340_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11na
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11na"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP340"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="340_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="340_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1" timeout="200">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="340_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
		<step no="340_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
		<step no="340_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
		
		<!--check wifi1 channel-->
		<step no="340_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>

		<step no="340_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11na *20${cy.ch_log_36}'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11na *20${cy.ch_log_40}'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11na *20${cy.ch_log_44}'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11na *20${cy.ch_log_48}'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11na *20${cy.ch_log_52}'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11na *20${cy.ch_log_56}'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11na *20${cy.ch_log_60}'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11na *20${cy.ch_log_64}'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11na *20${cy.ch_log_100}'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11na *20${cy.ch_log_104}'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11na *20${cy.ch_log_108}'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11na *20${cy.ch_log_112}'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11na *20${cy.ch_log_116}'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11na *20${cy.ch_log_120}'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11na *20${cy.ch_log_124}'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11na *20${cy.ch_log_128}'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11na *20${cy.ch_log_132}'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11na *20${cy.ch_log_136}'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11na *20${cy.ch_log_140}'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11na *20${cy.ch_log_149}'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11na *20${cy.ch_log_153}'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11na *20${cy.ch_log_157}'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11na *20${cy.ch_log_161}'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11na *20${cy.ch_log_165}'</log-match>
		</step>
	</stage>

	<!--handle AP350-->
	<stage>
		<if>"${img.prodtype}" == "AP350"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="350_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11na
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11na"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP350"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="350_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="350_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="350_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
<!--		
		<step no="350_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
-->
		<step no="350_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20'</log-match>
		</step>
<!--		
		<step no="350_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
-->
		<step no="350_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20'</log-match>
		</step>
		
		<!--check wifi1 channel-->
		<step no="350_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>
<!--
		<step no="350_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11ac *20${cy.ch_log_36}'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11ac *20${cy.ch_log_40}'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11ac *20${cy.ch_log_44}'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11ac *20${cy.ch_log_48}'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11ac *20${cy.ch_log_52}'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11ac *20${cy.ch_log_56}'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11ac *20${cy.ch_log_60}'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11ac *20${cy.ch_log_64}'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11ac *20${cy.ch_log_100}'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11ac *20${cy.ch_log_104}'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11ac *20${cy.ch_log_108}'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11ac *20${cy.ch_log_112}'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11ac *20${cy.ch_log_116}'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11ac *20${cy.ch_log_120}'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11ac *20${cy.ch_log_124}'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11ac *20${cy.ch_log_128}'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11ac *20${cy.ch_log_132}'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11ac *20${cy.ch_log_136}'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11ac *20${cy.ch_log_140}'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11ac *20${cy.ch_log_149}'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11ac *20${cy.ch_log_153}'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11ac *20${cy.ch_log_157}'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11ac *20${cy.ch_log_161}'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11ac *20${cy.ch_log_165}'</log-match>
		</step>
-->		
		<step no="350_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11na *20'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11na *20'</log-match>
		</step>	
		
	</stage>

	<!--handle AP120-->
	<stage>
		<if>"${img.prodtype}" == "AP120"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="120_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11na
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11na"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP120"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="120_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="120_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1" timeout="200">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="120_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
		<step no="120_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
		<step no="120_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
		
		<!--check wifi1 channel-->
		<step no="120_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>

		<step no="120_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11na *20${cy.ch_log_36}'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11na *20${cy.ch_log_40}'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11na *20${cy.ch_log_44}'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11na *20${cy.ch_log_48}'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11na *20${cy.ch_log_52}'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11na *20${cy.ch_log_56}'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11na *20${cy.ch_log_60}'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11na *20${cy.ch_log_64}'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11na *20${cy.ch_log_100}'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11na *20${cy.ch_log_104}'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11na *20${cy.ch_log_108}'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11na *20${cy.ch_log_112}'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11na *20${cy.ch_log_116}'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11na *20${cy.ch_log_120}'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11na *20${cy.ch_log_124}'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11na *20${cy.ch_log_128}'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11na *20${cy.ch_log_132}'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11na *20${cy.ch_log_136}'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11na *20${cy.ch_log_140}'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11na *20${cy.ch_log_149}'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11na *20${cy.ch_log_153}'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11na *20${cy.ch_log_157}'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11na *20${cy.ch_log_161}'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11na *20${cy.ch_log_165}'</log-match>
		</step>
	</stage>
	<!--handle BR100-->
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "APBR100"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="BR100_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="BR100_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1" timeout="200">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="BR100_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
		<step no="BR100_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
		<step no="BR100_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
	</stage>
	
	
	<!--handle AP170-->
	<stage>
		<if>"${img.prodtype}" == "AP170"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="170_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11na
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11na"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP170"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="170_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="170_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1" timeout="200">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="170_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
		<step no="170_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
		<step no="170_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
		
		<!--check wifi1 channel-->
		<step no="170_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>

		<step no="170_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11na *20${cy.ch_log_36}'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11na *20${cy.ch_log_40}'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11na *20${cy.ch_log_44}'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11na *20${cy.ch_log_48}'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11na *20${cy.ch_log_52}'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11na *20${cy.ch_log_56}'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11na *20${cy.ch_log_60}'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11na *20${cy.ch_log_64}'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11na *20${cy.ch_log_100}'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11na *20${cy.ch_log_104}'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11na *20${cy.ch_log_108}'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11na *20${cy.ch_log_112}'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11na *20${cy.ch_log_116}'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11na *20${cy.ch_log_120}'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11na *20${cy.ch_log_124}'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11na *20${cy.ch_log_128}'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11na *20${cy.ch_log_132}'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11na *20${cy.ch_log_136}'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11na *20${cy.ch_log_140}'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11na *20${cy.ch_log_149}'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11na *20${cy.ch_log_153}'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11na *20${cy.ch_log_157}'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11na *20${cy.ch_log_161}'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11na *20${cy.ch_log_165}'</log-match>
		</step>
	</stage>
	
	<!--handle AP1130-->
	<stage>
		<if>"${img.prodtype}" == "AP1130"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="1130_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11ac
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11ac"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP1130"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode_80M.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="1130_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="1130_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1" timeout="200">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="1130_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
		<step no="1130_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel.*1.*:.*2412.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*2.*:.*2417.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*3.*:.*2422.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*4.*:.*2427.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*5.*:.*2432.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*6.*:.*2437.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*7.*:.*2442.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*8.*:.*2447.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*9.*:.*2452.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*10.*:.*2457.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*11.*:.*2462.*MHz.*11ng.*20.*' -re</log-match>
		</step>
		<step no="1130_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel.*1.*:.*2412.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*2.*:.*2417.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*3.*:.*2422.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*4.*:.*2427.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*5.*:.*2432.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*6.*:.*2437.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*7.*:.*2442.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*8.*:.*2447.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*9.*:.*2452.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*10.*:.*2457.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*11.*:.*2462.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*12.*:.*2467.*MHz.*11ng.*20.*' -re</log-match>
			<log-match>-e 'Channel.*13.*:.*2472.*MHz.*11ng.*20.*' -re</log-match>
		</step>
		
		<!--check wifi1 channel-->
		<step no="1130_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>

		<step no="1130_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel.*36.*:.*5180.*MHz.*11ac.*20${cy.ch_log_36}' -re</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel.*40.*:.*5200.*MHz.*11ac.*20${cy.ch_log_40}' -re</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel.*44.*:.*5220.*MHz.*11ac.*20${cy.ch_log_44}' -re</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel.*48.*:.*5240.*MHz.*11ac.*20${cy.ch_log_48}' -re</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel.*52.*:.*5260.*MHz.*11ac.*20${cy.ch_log_52}' -re</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel.*56.*:.*5280.*MHz.*11ac.*20${cy.ch_log_56}' -re</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel.*60.*:.*5300.*MHz.*11ac.*20${cy.ch_log_60}' -re</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel.*64.*:.*5320.*MHz.*11ac.*20${cy.ch_log_64}' -re</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel.*100.*:.*5500.*MHz.*11ac.*20${cy.ch_log_100}' -re</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel.*104.*:.*5520.*MHz.*11ac.*20${cy.ch_log_104}' -re</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel.*108.*:.*5540.*MHz.*11ac.*20${cy.ch_log_108}' -re</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel.*112.*:.*5560.*MHz.*11ac.*20${cy.ch_log_112}' -re</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel.*116.*:.*5580.*MHz.*11ac.*20${cy.ch_log_116}' -re</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel.*120.*:.*5600.*MHz.*11ac.*20${cy.ch_log_120}' -re</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel.*124.*:.*5620.*MHz.*11ac.*20${cy.ch_log_124}' -re</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel.*128.*:.*5640.*MHz.*11ac.*20${cy.ch_log_128}' -re</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel.*132.*:.*5660.*MHz.*11ac.*20${cy.ch_log_132}' -re</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel.*136.*:.*5680.*MHz.*11ac.*20${cy.ch_log_136}' -re</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel.*140.*:.*5700.*MHz.*11ac.*20${cy.ch_log_140}' -re</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel.*149.*:.*5745.*MHz.*11ac.*20${cy.ch_log_149}' -re</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel.*153.*:.*5765.*MHz.*11ac.*20${cy.ch_log_153}' -re</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel.*157.*:.*5785.*MHz.*11ac.*20${cy.ch_log_157}' -re</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel.*161.*:.*5805.*MHz.*11ac.*20${cy.ch_log_161}' -re</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel.*165.*:.*5825.*MHz.*11ac.*20${cy.ch_log_165}' -re</log-match>
<!--
			<log-match skip="${cy.ch_36}">-n -e 'Channel.*36.*:.*5180.*MHz.*11ac.*20${cy.ch_log_36}' -re</log-match>
			<log-match skip="${cy.ch_40}">-n -e 'Channel.*40.*:.*5200.*MHz.*11ac.*20${cy.ch_log_40}' -re</log-match>
			<log-match skip="${cy.ch_44}">-n -e 'Channel.*44.*:.*5220.*MHz.*11ac.*20${cy.ch_log_44}' -re</log-match>
			<log-match skip="${cy.ch_48}">-n -e 'Channel.*48.*:.*5240.*MHz.*11ac.*20${cy.ch_log_48}' -re</log-match>
			<log-match skip="${cy.ch_52}">-n -e 'Channel.*52.*:.*5260.*MHz.*11ac.*20${cy.ch_log_52}' -re</log-match>
			<log-match skip="${cy.ch_56}">-n -e 'Channel.*56.*:.*5280.*MHz.*11ac.*20${cy.ch_log_56}' -re</log-match>
			<log-match skip="${cy.ch_60}">-n -e 'Channel.*60.*:.*5300.*MHz.*11ac.*20${cy.ch_log_60}' -re</log-match>
			<log-match skip="${cy.ch_64}">-n -e 'Channel.*64.*:.*5320.*MHz.*11ac.*20${cy.ch_log_64}' -re</log-match>
			<log-match skip="${cy.ch_100}">-n -e 'Channel.*100.*:.*5500.*MHz.*11ac.*20${cy.ch_log_100}' -re</log-match>
			<log-match skip="${cy.ch_104}">-n -e 'Channel.*104.*:.*5520.*MHz.*11ac.*20${cy.ch_log_104}' -re</log-match>
			<log-match skip="${cy.ch_108}">-n -e 'Channel.*108.*:.*5540.*MHz.*11ac.*20${cy.ch_log_108}' -re</log-match>
			<log-match skip="${cy.ch_112}">-n -e 'Channel.*112.*:.*5560.*MHz.*11ac.*20${cy.ch_log_112}' -re</log-match>
			<log-match skip="${cy.ch_116}">-n -e 'Channel.*116.*:.*5580.*MHz.*11ac.*20${cy.ch_log_116}' -re</log-match>
			<log-match skip="${cy.ch_120}">-n -e 'Channel.*120.*:.*5600.*MHz.*11ac.*20${cy.ch_log_120}' -re</log-match>
			<log-match skip="${cy.ch_124}">-n -e 'Channel.*124.*:.*5620.*MHz.*11ac.*20${cy.ch_log_124}' -re</log-match>
			<log-match skip="${cy.ch_128}">-n -e 'Channel.*128.*:.*5640.*MHz.*11ac.*20${cy.ch_log_128}' -re</log-match>
			<log-match skip="${cy.ch_132}">-n -e 'Channel.*132.*:.*5660.*MHz.*11ac.*20${cy.ch_log_132}' -re</log-match>
			<log-match skip="${cy.ch_136}">-n -e 'Channel.*136.*:.*5680.*MHz.*11ac.*20${cy.ch_log_136}' -re</log-match>
			<log-match skip="${cy.ch_140}">-n -e 'Channel.*140.*:.*5700.*MHz.*11ac.*20${cy.ch_log_140}' -re</log-match>
			<log-match skip="${cy.ch_149}">-n -e 'Channel.*149.*:.*5745.*MHz.*11ac.*20${cy.ch_log_149}' -re</log-match>
			<log-match skip="${cy.ch_153}">-n -e 'Channel.*153.*:.*5765.*MHz.*11ac.*20${cy.ch_log_153}' -re</log-match>
			<log-match skip="${cy.ch_157}">-n -e 'Channel.*157.*:.*5785.*MHz.*11ac.*20${cy.ch_log_157}' -re</log-match>
			<log-match skip="${cy.ch_161}">-n -e 'Channel.*161.*:.*5805.*MHz.*11ac.*20${cy.ch_log_161}' -re</log-match>
			<log-match skip="${cy.ch_165}">-n -e 'Channel.*165.*:.*5825.*MHz.*11ac.*20${cy.ch_log_165}' -re</log-match>			
-->
			</step>
	</stage>

	<!--handle AP230-->
	<stage>
		<if>"${img.prodtype}" == "AP230"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="230_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11ac
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11ac"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP230"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="230_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="230_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="230_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
<!--		
		<step no="230_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
-->		
		<step no="230_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *2 *: *2417 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *3 *: *2422 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *4 *: *2427 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *5 *: *2432 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *6 *: *2437 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *7 *: *2442 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *8 *: *2447 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *9 *: *2452 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *10 *: *2457 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *11 *: *2462 *MHz.* 11ng *20'</log-match>
		</step>		
<!--		
		<step no="230_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
-->		
		<step no="230_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *2 *: *2417 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *3 *: *2422 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *4 *: *2427 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *5 *: *2432 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *6 *: *2437 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *7 *: *2442 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *8 *: *2447 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *9 *: *2452 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *10 *: *2457 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *11 *: *2462 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *12 *: *2467 *MHz.* 11ng *20'</log-match>
			<log-match>-e 'Channel *13 *: *2472 *MHz.* 11ng *20'</log-match>
		</step>

		<!--check wifi1 channel-->
		<step no="230_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>
<!--
		<step no="230_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11ac *20${cy.ch_log_36}'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11ac *20${cy.ch_log_40}'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11ac *20${cy.ch_log_44}'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11ac *20${cy.ch_log_48}'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11ac *20${cy.ch_log_52}'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11ac *20${cy.ch_log_56}'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11ac *20${cy.ch_log_60}'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11ac *20${cy.ch_log_64}'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11ac *20${cy.ch_log_100}'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11ac *20${cy.ch_log_104}'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11ac *20${cy.ch_log_108}'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11ac *20${cy.ch_log_112}'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11ac *20${cy.ch_log_116}'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11ac *20${cy.ch_log_120}'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11ac *20${cy.ch_log_124}'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11ac *20${cy.ch_log_128}'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11ac *20${cy.ch_log_132}'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11ac *20${cy.ch_log_136}'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11ac *20${cy.ch_log_140}'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11ac *20${cy.ch_log_149}'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11ac *20${cy.ch_log_153}'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11ac *20${cy.ch_log_157}'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11ac *20${cy.ch_log_161}'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11ac *20${cy.ch_log_165}'</log-match>
		</step>
-->		
		<step no="230_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11ac *20'</log-match>
		</step>
		
	</stage>	
	
	<!--handle AP390-->
	<stage>
		<if>"${img.prodtype}" == "AP390"</if>
		<include prefix="ap_init" file="subs/ap_init.xml" obj-args="ap1" />
		<step no="390_1">
			<desc>
				Radio profile aaa
				Radio profile aaa phymode 11ac
				Interface wifi1 radio profile aaa
			</desc>
			<console target="ap1">
				-v "radio profile aaa"
				-v "radio profile aaa phymode 11ac"
				-v "interface wifi1 radio profile aaa"
				-v "save config"
			</console>
		</step>
	</stage>
	
	<stage loop-values="840,826,784,702,682,458,480,410,4014,554,36,40,56,76,100,124,156,152,170,191,196,203,208,233,246,250,276,300,344,348,352,356,372,376,380,428,440,442,807,470,484,528,578,616,620,642,703,705,710,724,752,756,792,704" var-name="country_code">
	<!--<stage loop-values="${ccode_list}" var-name="country_code">-->
		<if>"${img.prodtype}" == "AP390" || "${img.prodtype}" == "AP390"</if>
		<!--get support channel list and related variables-->
		<include prefix="setvars" file="${case.dir}/subs/get_cyobj_by_cycode.xml" args="${country_code}, ${img.prodtype}" />
		
		<step no="390_2_FCC">
			<if>"${cy.region}" == "FCC"</if>
			<desc>Set county code for country of FCC</desc>
			<console target="ap1" timeout="200">
				-v 'boot-param region FCC'
				-v 'reboot';
			</console>
			<no-error-check />
		</step>
		<step no="390_2_World">
			<if>"${cy.region}" == "World"</if>
			<desc>Set country code for country of World </desc>
			<console target="ap1">
				-v "boot-param region ${cy.region}"
				-v "boot-param country-code ${cy.code}"
			</console>
			<no-error-check />
		</step>
		
		<!--check wifi0 channel-->
		<step no="390_3">
			<desc>show interface wifi0 channel</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v 'show interface wifi0 channel'
			</console>
		</step>
<!--		
		<step no="390_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
		</step>
-->		
		<step no="390_3_11ch">
			<if>"${cy.wifi0_chnnl}" == "11"</if>
			<desc>check wifi0 channel_11</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20'</log-match>
		</step>	
<!--		
		<step no="390_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20 *40U'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20 *40U *40L'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20 *40L'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20 *40L'</log-match>
		</step>
-->
		<step no="390_3_13ch">
			<if>"${cy.wifi0_chnnl}" == "13"</if>
			<desc>check wifi0 channel_13</desc>
			<log-file>${cy.name}_wifi0_channel.log</log-file>
			<log-match>-e 'Channel *1 *: *2412\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *2 *: *2417\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *3 *: *2422\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *4 *: *2427\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *5 *: *2432\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *6 *: *2437\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *7 *: *2442\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *8 *: *2447\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *9 *: *2452\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *10 *: *2457\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *11 *: *2462\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *12 *: *2467\** *MHz *11ng *20'</log-match>
			<log-match>-e 'Channel *13 *: *2472\** *MHz *11ng *20'</log-match>
		</step>
		
		<!--check wifi1 channel-->
		<step no="390_4">
			<desc>radio profile aaa dfs</desc>
			<log-file>${cy.name}_open_dfs.log</log-file>
			<console target="ap1" timeout="200">
				-v "radio profile aaa dfs"
				-v "save config"
			</console>
			<no-error-check />
			<log-match skip="${cy.dfs_supported}">
				-e "Enable DFS of radio profile (aaa) failed because we haven't support DFS in current country code"
			</log-match>
		</step>
<!--
		<step no="390_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11ac *20${cy.ch_log_36}'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11ac *20${cy.ch_log_40}'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11ac *20${cy.ch_log_44}'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11ac *20${cy.ch_log_48}'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11ac *20${cy.ch_log_52}'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11ac *20${cy.ch_log_56}'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11ac *20${cy.ch_log_60}'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11ac *20${cy.ch_log_64}'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11ac *20${cy.ch_log_100}'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11ac *20${cy.ch_log_104}'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11ac *20${cy.ch_log_108}'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11ac *20${cy.ch_log_112}'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11ac *20${cy.ch_log_116}'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11ac *20${cy.ch_log_120}'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11ac *20${cy.ch_log_124}'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11ac *20${cy.ch_log_128}'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11ac *20${cy.ch_log_132}'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11ac *20${cy.ch_log_136}'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11ac *20${cy.ch_log_140}'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11ac *20${cy.ch_log_149}'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11ac *20${cy.ch_log_153}'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11ac *20${cy.ch_log_157}'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11ac *20${cy.ch_log_161}'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11ac *20${cy.ch_log_165}'</log-match>
		</step>
-->		
		<step no="390_5">
			<desc>show interface wifi1 channel</desc>
			<log-file>${cy.name}_wifi1_channel.log</log-file>
			<console target="ap1" timeout="200">
				-v "show interface wifi1 channel"
			</console>
			<log-match if="${cy.ch_36}">-e 'Channel *36 *: *5180\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_40}">-e 'Channel *40 *: *5200\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_44}">-e 'Channel *44 *: *5220\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_48}">-e 'Channel *48 *: *5240\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_52}">-e 'Channel *52 *: *5260\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_56}">-e 'Channel *56 *: *5280\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_60}">-e 'Channel *60 *: *5300\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_64}">-e 'Channel *64 *: *5320\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_100}">-e 'Channel *100 *: *5500\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_104}">-e 'Channel *104 *: *5520\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_108}">-e 'Channel *108 *: *5540\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_112}">-e 'Channel *112 *: *5560\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_116}">-e 'Channel *116 *: *5580\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_120}">-e 'Channel *120 *: *5600\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_124}">-e 'Channel *124 *: *5620\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_128}">-e 'Channel *128 *: *5640\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_132}">-e 'Channel *132 *: *5660\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_136}">-e 'Channel *136 *: *5680\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_140}">-e 'Channel *140 *: *5700\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_149}">-e 'Channel *149 *: *5745\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_153}">-e 'Channel *153 *: *5765\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_157}">-e 'Channel *157 *: *5785\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_161}">-e 'Channel *161 *: *5805\** *MHz *11ac *20'</log-match>
			<log-match if="${cy.ch_165}">-e 'Channel *165 *: *5825\** *MHz *11ac *20'</log-match>
		</step>		
		
	</stage>	
	
	
	<post-process>
        <stage>
            <step no="10">
                <desc>
                change the region code.
              </desc>
              <console target="ap1">
                -v "boot-param region FCC"
                -v "reset config"
            </console>
        </step>
        </stage>
        <include prefix="def_post" file="include/default_post_process.xml" />
    </post-process> 
	
	
</testcase>
